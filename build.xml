<?xml version="1.0" encoding="UTF-8"?>
<!-- Ant build file -->

<project basedir="" default="create-zip" name="HierarchicalClusteringViewer">
	<property name="dirOffset" value="../" />
	<import file="${dirOffset}/commontargets.xml" />

	<target depends="init" name="create-zip">
		<antcall target="prezip" />

		<path id="library.classpath">
			<fileset dir="${libpath}" id="base.path" includes="jfreechart-* jcommon-* trove.jar Jama-1.0.1.jar
				jai_codec.jar jai_core.jar freehep-base.jar freehep-graphics2d.jar freehep-graphicsio.jar freehep-graphicsio-ps.jar
				forms-1.0.7.jar colt.jar opencsv-1.7.jar GeneCruiser.jar tar.jar gp-modules.jar" />
		</path>

		<zip destfile="${dest.dir}/${ant.project.name}.zip" whenempty="fail" defaultexcludes="true">
			<fileset dir="." includes="manifest, *.pdf" />
			<fileset refid="base.path" />
		</zip>
		<antcall target="postzip" />
	</target>

	<target depends="init" name="run">
		<java maxmemory="1024m" classname="org.genepattern.clustering.hierarchical.HCLApp" fork="true">
			<classpath refid="library.classpath" />
			<arg value="/Users/jgould/datasets/hcl/all_aml_train-preprocessed.cdt" />
			<arg value="-a/Users/jgould/datasets/hcl/all_aml_train-preprocessed.atr" />
			<arg value="-g/Users/jgould/datasets/hcl/all_aml_train-preprocessed.gtr" />
		</java>
	</target>

</project>
