<?xml version="1.0" encoding="UTF-8"?>
<!-- Ant build file -->

<project basedir="" default="create-zip" name="HierarchicalClusteringViewer">
	<property name="dirOffset" value="../" />
	<import file="${dirOffset}/commontargets.xml" />

	<target depends="init" name="create-zip">
		<antcall target="prezip" />

		<path id="library.classpath">
			<fileset refid="genecruiser.jars" />
			<fileset refid="image.jars" />
			<fileset dir="${libpath}" id="jars.to.include" includes="jfreechart-* jcommon-* trove.jar Jama-1.0.1.jar forms-* colt.jar opencsv-1.7.jar gp-modules.jar" />
		</path>

		<zip destfile="${dest.dir}/${ant.project.name}.zip" whenempty="fail" defaultexcludes="true">
			<fileset dir="." includes="manifest, *.pdf" />
			<fileset refid="jars.to.include" />
			<fileset refid="genecruiser.jars" />
			<fileset refid="image.jars" />
		</zip>
		<antcall target="postzip" />
	</target>

	<target depends="init" name="run">
		<java maxmemory="1024m" classname="org.genepattern.clustering.hierarchical.HCLApp" fork="true">
			<classpath refid="library.classpath" />
			<arg value="test-data/all_aml_train.neighbors.cdt" />
			<arg value="-atest-data/all_aml_train.neighbors.atr" />
			<arg value="-gtest-data/all_aml_train.neighbors.gtr" />
		</java>
	</target>

</project>
